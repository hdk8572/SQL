DROP TABLE USER_NOTNULL;
DROP TABLE USER_UNIQUE1;
DROP TABLE USER_UNIQUE2;
DROP TABLE USER_UNIQUE3;
DROP TABLE USER_PRIMARYKEY1;
DROP TABLE USER_PRIMARYKEY2;
DROP TABLE USER_PRIMARYKEY3;
DROP TABLE USER_GRADE;
DROP TABLE USER_FOREIGNKEY;

-- NOT NULL 예시
-- ORA-01400: NULL을 ("KH"."USER_NOTNULL"."USER_ID") 안에 삽입할 수 없습니다
CREATE TABLE USER_NOTNULL(
    USER_NO NUMBER NOT NULL,
    USER_ID VARCHAR2(20) NOT NULL,
    USER_PWD VARCHAR(30) NOT NULL,
    USER_NAME VARCHAR2(30),
    GENDER VARCHAR2(10),
    PHONE VARCHAR2(30),
    EMAIL VARCHAR2(50)
);

INSERT INTO USER_NOTNULL VALUES(1, 'user01','pass01','홍길동','남','010-1234-5678', 'hong123@kh.or.kr');
INSERT INTO USER_NOTNULL VALUES(1, NULL, NULL, NULL, NULL,'010-1234-5678', 'hong123@kh.or.kr');

-- UNIQUE 1
-- ORA-00001: 무결성 제약 조건(KH.SYS_C008495)에 위배됩니다
CREATE TABLE USER_UNIQUE1(
    USER_NO NUMBER,
    USER_ID VARCHAR2(20) UNIQUE,
    USER_PWD VARCHAR(30) NOT NULL,
    USER_NAME VARCHAR2(30),
    GENDER VARCHAR2(10),
    PHONE VARCHAR2(30),
    EMAIL VARCHAR2(50)
);

INSERT INTO USER_UNIQUE VALUES(1, 'user01','pass01','홍길동','남','010-1234-5678', 'hong123@kh.or.kr');
INSERT INTO USER_UNIQUE VALUES(1, 'user01','pass01', NULL, NULL,'010-1234-5678', 'hong123@kh.or.kr');

-- UNIQUE 2

CREATE TABLE USER_UNIQUE2(
    USER_NO NUMBER,
    USER_ID VARCHAR2(20),
    USER_PWD VARCHAR(30) NOT NULL,
    USER_NAME VARCHAR2(30),
    GENDER VARCHAR2(10),
    PHONE VARCHAR2(30),
    EMAIL VARCHAR2(50),
    UNIQUE (USER_ID)
);

INSERT INTO USER_UNIQUE2 VALUES(1, 'user01','pass01','홍길동','남','010-1234-5678', 'hong123@kh.or.kr');
INSERT INTO USER_UNIQUE2 VALUES(1, 'user01','pass01', NULL, NULL,'010-1234-5678', 'hong123@kh.or.kr');
-- ORA-00001: 무결성 제약 조건(KH.SYS_C008502)에 위배됩니다.
INSERT INTO USER_UNIQUE2 VALUES(1, NULL ,'pass01', '홍길동', '남','010-1234-5678', 'hong123@kh.or.kr');
INSERT INTO USER_UNIQUE2 VALUES(1, NULL ,'pass01', '홍길동', '남','010-1234-5678', 'hong123@kh.or.kr');

-- UNIQUE 3
CREATE TABLE USER_UNIQUE3(
    USER_NO NUMBER,
    USER_ID VARCHAR2(20),
    USER_PWD VARCHAR(30) NOT NULL,
    USER_NAME VARCHAR2(30),
    GENDER VARCHAR2(10),
    PHONE VARCHAR2(30),
    EMAIL VARCHAR2(50),
    UNIQUE (USER_NO, USER_ID)
);

INSERT INTO USER_UNIQUE3 VALUES(1, 'user01','pass01','홍길동','남','010-1234-5678', 'hong123@kh.or.kr');
INSERT INTO USER_UNIQUE3 VALUES(2, 'user01','pass01', NULL, NULL,'010-1234-5678', 'hong123@kh.or.kr');
INSERT INTO USER_UNIQUE3 VALUES(2, 'user02' ,'pass02', NULL, NULL,'010-1234-5678', 'hong123@kh.or.kr');
INSERT INTO USER_UNIQUE3 VALUES(1, 'user01' ,'pass01', NULL, NULL,'010-1234-5678', 'hong123@kh.or.kr');
-- ORA-00001: 무결성 제약 조건(KH.SYS_C008504)에 위배됩니다

-- PRIMARY KEY
CREATE TABLE USER_PRIMARYKEY1(
    USER_NO NUMBER PRIMARY KEY,
    USER_ID VARCHAR2(20) UNIQUE,
    USER_PWD VARCHAR(30) NOT NULL,
    USER_NAME VARCHAR2(30),
    GENDER VARCHAR2(10),
    PHONE VARCHAR2(30),
    EMAIL VARCHAR2(50)
);

INSERT INTO USER_PRIMARYKEY1 VALUES(1, 'user01','pass01','홍길동','남','010-1234-5678', 'hong123@kh.or.kr');
INSERT INTO USER_PRIMARYKEY1 VALUES(1, 'user02','pass02','이순신','남','010-5678-9012', 'lee123@kh.or.kr');
-- ORA-00001: 무결성 제약 조건(KH.SYS_C008509)에 위배됩니다
INSERT INTO USER_PRIMARYKEY1 VALUES(NULL,'user03','pass03','유관순','여','010-3131-3131','yoo123@kh.or.kr');
-- ORA-01400: NULL을 ("KH"."USER_PRIMARYKEY"."USER_NO") 안에 삽입할 수 없습니다

CREATE TABLE USER_PRIMARYKEY2(
    USER_NO NUMBER,
    USER_ID VARCHAR2(20) UNIQUE,
    USER_PWD VARCHAR(30) NOT NULL,
    USER_NAME VARCHAR2(30),
    GENDER VARCHAR2(10),
    PHONE VARCHAR2(30),
    EMAIL VARCHAR2(50),
    PRIMARY KEY (USER_NO)
);

INSERT INTO USER_PRIMARYKEY2 VALUES(1, 'user01','pass01','홍길동','남','010-1234-5678', 'hong123@kh.or.kr');
INSERT INTO USER_PRIMARYKEY2 VALUES(1, 'user02','pass02','이순신','남','010-5678-9012', 'lee123@kh.or.kr');
-- ORA-00001: 무결성 제약 조건(KH.SYS_C008509)에 위배됩니다
INSERT INTO USER_PRIMARYKEY2 VALUES(NULL,'user03','pass03','유관순','여','010-3131-3131','yoo123@kh.or.kr');
-- ORA-01400: NULL을 ("KH"."USER_PRIMARYKEY"."USER_NO") 안에 삽입할 수 없습니다

CREATE TABLE USER_PRIMARYKEY3(
    USER_NO NUMBER,
    USER_ID VARCHAR2(20),
    USER_PWD VARCHAR(30) NOT NULL,
    USER_NAME VARCHAR2(30),
    GENDER VARCHAR2(10),
    PHONE VARCHAR2(30),
    EMAIL VARCHAR2(50),
    PRIMARY KEY (USER_NO, USER_ID)
);

INSERT INTO USER_PRIMARYKEY3 VALUES(1, 'user01','pass01','홍길동','남','010-1234-5678', 'hong123@kh.or.kr');
INSERT INTO USER_PRIMARYKEY3 VALUES(1, 'user02','pass02','이순신','남','010-5678-9012', 'lee123@kh.or.kr');
INSERT INTO USER_PRIMARYKEY3 VALUES(2,'user01','pass01','유관순','여','010-3131-3131','yoo123@kh.or.kr');
INSERT INTO USER_PRIMARYKEY3 VALUES(1,'user01','pass01','신사임당','여','010-1111-1111','SHIN123@kh.or.kr');
-- ORA-00001: 무결성 제약 조건(KH.SYS_C008515)에 위배됩니다

-- FOREIGN KEY
CREATE TABLE USER_GRADE(

GRADE_CODE NUMBER PRIMARY KEY,
GRADE_NAME VARCHAR2(30) NOT NULL
);

INSERT INTO USER_GRADE VALUES(10, '일반회원');
INSERT INTO USER_GRADE VALUES(20, '우수회원');
INSERT INTO USER_GRADE VALUES(30, '특별회원');
SELECT * FROM USER_GRADE;

CREATE TABLE USER_FOREIGNKEY(

USER_NO NUMBER PRIMARY KEY,
USER_ID VARCHAR2(20) UNIQUE,
USER_PWD VARCHAR2(30) NOT NULL,
USER_NAME VARCHAR2(30),
GENDER VARCHAR2(10),
PHONE VARCHAR2(30),
EMAIL VARCHAR2(50),
GRADE_CODE NUMBER,
FOREIGN KEY (GRADE_CODE) REFERENCES USER_GRADE( GRADE_CODE)

);

INSERT INTO USER_FOREIGNKEY VALUES(1, 'user01', 'pass01', '홍길동', '남', '010-1234-5678', 'hong123@kh.or.kr', 10);
INSERT INTO USER_FOREIGNKEY VALUES(2, 'user02', 'pass02', '이순신', '남', '010-9012-3456', 'lee123@kh.or.kr', 20);
INSERT INTO USER_FOREIGNKEY VALUES(3, 'user03', 'pass03', '유관순', '여', '010-3131-3131', 'yoo123@kh.or.kr', 30);
INSERT INTO USER_FOREIGNKEY VALUES(4, 'user04', 'pass04', '신사임당', '여', '010-1111-1111', 'shin123@kh.or.kr', NULL);
INSERT INTO USER_FOREIGNKEY VALUES(5, 'user05', 'pass05', '안중근', '남', '010-4444-4444', 'ahn123@kh.or.kr', 50);
-- ORA-02291: 무결성 제약조건(KH.SYS_C008527)이 위배되었습니다- 부모 키가 없습니다
